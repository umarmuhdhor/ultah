<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Our Love Story ‚ù§Ô∏è</title>
    <style>
      :root {
        --primary-color: #ff69b4;
        --secondary-color: #ff1493;
        --accent-color: #ff8c69;
        --text-color: #fff;
        --background-dark: #000428;
        --background-light: #004e92;
        --heart-color: #ff3366;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        scrollbar-width: thin;
        scrollbar-color: var(--primary-color) transparent;
      }

      *::-webkit-scrollbar {
        width: 8px;
      }

      *::-webkit-scrollbar-track {
        background: transparent;
      }

      *::-webkit-scrollbar-thumb {
        background-color: var(--primary-color);
        border-radius: 20px;
      }

      body {
        min-height: 100vh;
        background: linear-gradient(
          135deg,
          var(--background-dark),
          var(--background-light)
        );
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        color: var(--text-color);
        overflow-x: hidden;
        perspective: 1000px;
      }

      /* Starry Background */
      .starry-background {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 0;
        overflow: hidden;
      }

      .star {
        position: absolute;
        background-color: white;
        border-radius: 50%;
        opacity: 0.7;
        animation: twinkle 3s infinite alternate;
      }

      @keyframes twinkle {
        0% {
          opacity: 0.3;
        }
        100% {
          opacity: 1;
        }
      }

      /* Main Container */
      .container {
        position: relative;
        z-index: 10;
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }

      /* Header with Glowing Effect */
      .header {
        text-align: center;
        padding: 40px 0;
        transform-style: preserve-3d;
        animation: floatTitle 4s ease-in-out infinite;
      }

      @keyframes floatTitle {
        0%,
        100% {
          transform: translateY(0) rotate(0deg);
        }
        50% {
          transform: translateY(-20px) rotate(2deg);
        }
      }

      .title {
        font-size: 3.5em;
        margin-bottom: 20px;
        text-shadow: 0 0 10px var(--primary-color),
          0 0 20px var(--secondary-color), 0 0 30px var(--accent-color);
        transition: all 0.5s ease;
      }

      .title:hover {
        transform: scale(1.05);
        text-shadow: 0 0 15px var(--primary-color),
          0 0 25px var(--secondary-color), 0 0 35px var(--accent-color);
      }

      /* Photo Gallery with 3D Hover Effect */
      .gallery-container {
        margin: 50px 0;
        padding: 20px;
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(15px);
        border-radius: 20px;
        transform-style: preserve-3d;
      }

      .gallery-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        padding: 20px;
      }

      .memory-card {
        position: relative;
        aspect-ratio: 3/4;
        border-radius: 15px;
        overflow: hidden;
        cursor: pointer;
        transition: all 0.5s ease;
        transform-style: preserve-3d;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
      }

      .memory-card:hover {
        transform: scale(1.05) rotateX(10deg) rotateY(-10deg);
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.5);
      }

      .memory-card img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.5s ease;
      }

      .memory-card:hover img {
        transform: scale(1.1);
      }

      .memory-caption {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 15px;
        background: linear-gradient(
          to top,
          rgba(0, 0, 0, 0.8),
          rgba(0, 0, 0, 0)
        );
        color: white;
        transform: translateY(100%);
        transition: transform 0.5s ease;
      }

      .memory-card:hover .memory-caption {
        transform: translateY(0);
      }

      /* Interactive Timeline */
      .timeline {
        position: relative;
        max-width: 800px;
        margin: 50px auto;
        padding: 20px;
      }

      .timeline::before {
        content: "";
        position: absolute;
        left: 50%;
        top: 0;
        bottom: 0;
        width: 4px;
        background: linear-gradient(
          to bottom,
          transparent,
          var(--primary-color),
          transparent
        );
        transform: translateX(-50%);
      }

      .timeline-item {
        width: 50%;
        padding: 20px;
        position: relative;
        opacity: 0;
        transform: translateX(-50px);
        transition: all 0.8s ease;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        margin-bottom: 20px;
      }

      .timeline-item:hover {
        transform: scale(1.05) translateX(0);
        background: rgba(255, 255, 255, 0.2);
      }

      .timeline-item.visible {
        opacity: 1;
        transform: translateX(0);
      }

      .timeline-item:nth-child(even) {
        margin-left: 50%;
      }

      /* Love Message with Heartbeat */
      .love-message {
        text-align: center;
        margin: 40px 0;
        padding: 30px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 15px;
        backdrop-filter: blur(10px);
        opacity: 0;
        transform: scale(0.8);
        transition: all 0.8s ease;
        position: relative;
        overflow: hidden;
      }

      .love-message::before {
        content: "‚ù§Ô∏è";
        position: absolute;
        top: -50px;
        left: -50px;
        font-size: 100px;
        opacity: 0.1;
        animation: heartbeat 2s infinite;
      }

      @keyframes heartbeat {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.2);
        }
      }

      .love-message.visible {
        opacity: 1;
        transform: scale(1);
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .timeline::before {
          left: 20px;
        }

        .timeline-item {
          width: 100%;
          margin-left: 40px !important;
        }
      }

      /* Modal Enhancements */
      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.95);
        z-index: 1000;
        cursor: pointer;
        animation: modalFadeIn 0.3s ease;
      }

      @keyframes modalFadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      .modal-content {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0.7);
        max-width: 90%;
        max-height: 90vh;
        transition: transform 0.3s ease;
        border-radius: 15px;
        box-shadow: 0 0 30px rgba(255, 105, 180, 0.5);
      }

      .modal:hover .modal-content {
        transform: translate(-50%, -50%) scale(1);
      }

      .modal-caption {
        position: absolute;
        bottom: 20px;
        left: 0;
        right: 0;
        text-align: center;
        color: white;
        padding: 10px;
        background: linear-gradient(
          to top,
          rgba(0, 0, 0, 0.7),
          rgba(0, 0, 0, 0.3)
        );
      }

      .music-control {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: var(--primary-color);
        color: white;
        border: none;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        z-index: 1000;
        transition: all 0.3s ease;
        opacity: 0.7;
      }

      .music-control:hover {
        background: var(--secondary-color);
        transform: scale(1.1);
        opacity: 1;
      }

      /* Tambahkan di bagian akhir CSS */
      .birthday-action-section {
        display: flex;
        justify-content: center;
        margin: 50px 0;
      }

      .birthday-candle-btn {
        background: var(--primary-color);
        color: white;
        border: none;
        padding: 15px 30px;
        font-size: 1.2em;
        border-radius: 50px;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 10px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
      }

      .birthday-candle-btn:hover {
        background: var(--secondary-color);
        transform: scale(1.05);
        box-shadow: 0 15px 25px rgba(0, 0, 0, 0.3);
      }
    </style>
  </head>
  <body>
    <audio id="backgroundMusic" loop>
      <source src="happy-birthday.mp3" type="audio/mpeg" />
      Your browser does not support the audio element.
    </audio>
    <button class="music-control" id="musicToggle">üéµ</button>

    <div class="starry-background"></div>

    <div class="container">
      <header class="header">
        <h1 class="title">‚ù§Ô∏è Our Love Story ‚ù§Ô∏è</h1>
        <p>A Journey of Love and Memories</p>
      </header>

      <div class="gallery-container">
        <div class="gallery-grid">
          <!-- Memory Cards with Placeholder Images -->
          <div class="memory-card" onclick="openModal(this)">
            <img src="image1.jpeg" alt="First Date" />
            <div class="memory-caption">Anjay Pulang</div>
          </div>
          <div class="memory-card" onclick="openModal(this)">
            <img src="image2.jpeg" alt="Beach Day" />
            <div class="memory-caption">Nangis dulu gak seh</div>
          </div>
          <div class="memory-card" onclick="openModal(this)">
            <img src="image3.jpeg" alt="Movie Night" />
            <div class="memory-caption">Sok kendit</div>
          </div>
          <div class="memory-card" onclick="openModal(this)">
            <img src="image4.jpeg" alt="Dinner Date" />
            <div class="memory-caption">Ekspresi ape ni</div>
          </div>
          <div class="memory-card" onclick="openModal(this)">
            <img src="image5.jpeg" alt="Park Walk" />
            <div class="memory-caption">Cekrek</div>
          </div>
          <div class="memory-card" onclick="openModal(this)">
            <img src="image6.jpeg" alt="Special Moment" />
            <div class="memory-caption">wop</div>
          </div>
        </div>
      </div>

      <div class="timeline">
        <div class="timeline-item">
          <h3>First Meeting</h3>
          <p>The magical moment our eyes first met...</p>
        </div>
        <div class="timeline-item">
          <h3>First Date</h3>
          <p>A perfect evening that changed everything...</p>
        </div>
        <div class="timeline-item">
          <h3>Falling in Love</h3>
          <p>When two hearts became one...</p>
        </div>
        <div class="timeline-item">
          <h3>Today</h3>
          <p>Celebrating another year of our beautiful journey...</p>
        </div>
      </div>

      <div class="love-message">
        <h2>My Dearest Love,</h2>
        <p>
          Every moment with you is a treasure, every memory a gift. Happy
          Birthday ‚Äì here's to us, to love, and to our endless story. ‚ù§Ô∏è
        </p>
      </div>

      <div class="birthday-action-section">
        <button class="birthday-candle-btn" onclick="goToBlowCandles()">
          Tiup Lilin Ulang Tahun üïØÔ∏è
        </button>
      </div>
    </div>

    <!-- Modal for expanded photos -->
    <div class="modal" onclick="closeModal()">
      <img class="modal-content" />
      <div class="modal-caption"></div>
    </div>

    <script>
      function goToBlowCandles() {
        window.location.href = "tiuplilin.html";
      }
      // Starry Background
      function createStarryBackground() {
        const container = document.querySelector(".starry-background");
        const starCount = 200;

        for (let i = 0; i < starCount; i++) {
          const star = document.createElement("div");
          star.classList.add("star");

          // Random positioning
          star.style.left = `${Math.random() * 100}%`;
          star.style.top = `${Math.random() * 100}%`;

          // Random size
          const size = Math.random() * 3;
          star.style.width = `${size}px`;
          star.style.height = `${size}px`;

          // Random animation delay
          star.style.animationDelay = `${Math.random() * 3}s`;

          container.appendChild(star);
        }
      }

      // Modal functions
      function openModal(element) {
        const modal = document.querySelector(".modal");
        const modalImg = document.querySelector(".modal-content");
        const modalCaption = document.querySelector(".modal-caption");

        modal.style.display = "block";
        modalImg.src = element.querySelector("img").src;
        modalCaption.textContent =
          element.querySelector(".memory-caption").textContent;
      }

      function closeModal() {
        document.querySelector(".modal").style.display = "none";
      }

      // Show timeline items with animation
      function showTimeline() {
        const items = document.querySelectorAll(".timeline-item");
        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("visible");
              }
            });
          },
          {
            threshold: 0.1,
          }
        );

        items.forEach((item) => observer.observe(item));
      }

      function playMusic() {
        const backgroundMusic = document.getElementById("backgroundMusic");
        const musicToggle = document.getElementById("musicToggle");

        // Try multiple methods to play music
        if (backgroundMusic.paused) {
          // Method 1: Direct play with muted temporary state
          backgroundMusic.muted = true;
          backgroundMusic
            .play()
            .then(() => {
              // Unmute after a short delay
              setTimeout(() => {
                backgroundMusic.muted = false;
              }, 100);

              // Update music toggle button
              musicToggle.textContent = "üéµ";
            })
            .catch((error) => {
              console.log("Autoplay failed", error);

              // Fallback method: Try playing on user interaction
              document.addEventListener("click", function tryPlay() {
                backgroundMusic
                  .play()
                  .then(() => {
                    backgroundMusic.muted = false;
                    musicToggle.textContent = "üéµ";
                    document.removeEventListener("click", tryPlay);
                  })
                  .catch((err) => console.log("Play failed", err));
              });
            });
        }
      }

      // Toggle music function
      function toggleMusic() {
        const backgroundMusic = document.getElementById("backgroundMusic");
        const musicToggle = document.getElementById("musicToggle");

        if (backgroundMusic.paused) {
          backgroundMusic.play();
          musicToggle.textContent = "üéµ";
        } else {
          backgroundMusic.pause();
          musicToggle.textContent = "üîá";
        }
      }

      // Tambahkan di dalam <script>
      function goToBlowCandles() {
        window.location.href = "tiuplilin.html";
      }

      // Modified initialization
      window.onload = () => {
        createStarryBackground();
        showTimeline();

        // Attempt to play music immediately
        playMusic();

        // Add click event to music toggle
        const musicToggle = document.getElementById("musicToggle");
        musicToggle.addEventListener("click", toggleMusic);

        // Show love message with delay
        setTimeout(() => {
          document.querySelector(".love-message").classList.add("visible");
        }, 1000);
      };
    </script>
  </body>
</html>
